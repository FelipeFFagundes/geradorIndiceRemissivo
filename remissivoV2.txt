#include <cstdlib>
#include <iostream>
#include <stdio.h>
#include<string.h>


/*
void menu(){
int opcao;

printf("Indice remissivo");
printf("1- visualisar o texto todo");
printf("2-procurar palavra");
scanf("%d",&opcao);
}
*/

main(){
int tam,i,p,j,cont=0,cont2=0,opcao;
char str[255];
char nome[25];

printf("Indice remissivo\n");
printf("\n1- procurar palavra ");
printf("\n2- visualisar o texto todo");
printf("\n3- sair daqui");
printf("\n\n\t\tescolha a opcao:");
scanf("%d",&opcao);



switch(opcao){
case 1:

printf("\ndigite uma palavra a ser encontrada:");
fflush(stdin);
gets(nome);

FILE *arq,s;
arq=fopen("texto.txt","r");

if(arq)
{
while(!feof(arq))
{
fgets(str,255,arq);
//printf("%s\n",str);
tam=strlen(str);
int tam2=strlen(nome);

for(i=0;i<tam-1;i++){
if(str==nome[0]){
for(j=0;j<tam2-1;j++){
if(str[j+i]==nome[j]){
cont++;
}
}

if(cont==tam2){
printf("\n\n\t\tPalavra encontrada\a");
cont2=1;
break;
}

}


}
}

if(cont2==0){
printf("\n\n\t\tNao encontrado\a\a\a\a\a");
}

}
fclose(arq);
break;

case 2:

printf("\n\n\t\tTexto-indice remissivo\n\n");
arq=fopen("texto.txt","r");
if(arq)
{
while(!feof(arq))
{
fgets(str,255,arq);
printf("%s\n",str);
}
}
break;

case 3:
exit(0);
break;
}


printf("\n\n");
system("PAUSE");

}